var WEBSITE={protocol:"",host:"",baseurl:"",path:"/zdweb/test/xueqiu/",url:"",filepath:"",fileurl:"",filename:"",filedir:"",init:function(){this.protocol=window.location.protocol.toLowerCase();this.host=window.location.host.toLowerCase();this.baseurl=this.protocol+"//"+this.host+"/";this.url=this.baseurl+this.path.substr(1);this.filepath=window.location.pathname.replace(/\\/g,"/").toLowerCase();this.filename=this.filepath.replace(/(.+)[\\/]/,"");this.fileurl=this.baseurl+this.filepath.substr(1);this.filedir=this.fileurl.substring(0,this.fileurl.lastIndexOf("/")+1)}};WEBSITE.init();var _callFuncDict={},platform="pc";function IsWebPlatform(){return platform=="bs"}function IsPcPlatform(){return platform=="pc"}function IsAndPlatform(){return platform=="and"}function IsIosPlatform(){return platform=="ios"}var CALLTQL_CONFIG={url:WEBSITE.baseurl,dataType:"text",type:"POST",callType:"external",timeout:2e4,CilentSpecifiedKey:""};function URLParam(b){var c=new RegExp("(^|&)"+b+"=([^&]*)(&|$)","i"),d=unescape(window.location.search),a=d.substr(1).match(c);return a!=null?unescape(a[2]):null}function ParseParmStr(c){var b={};strs=c.split("&");for(var a=0;a<strs.length;a++)b[strs[a].split("=")[0]]=strs[a].split("=")[1];return b}function Auto_Get_Platform(){platform="pc";if(window.location.href.indexOf("http")==0)platform="bs";var b=decodeURI(window.location.search.substr(1)),c=ParseParmStr(b),d=c.ispc;if(d=="1")platform="pc";var a=navigator.userAgent.toLowerCase();if(a.indexOf("ipod")!=-1||a.indexOf("iphone")!=-1||a.indexOf("ipad")!=-1)platform="ios";else if(a.indexOf("android")!=-1)platform="and"}function Auto_Set_Req(){if(IsWebPlatform()||window.location.href.indexOf("http")==0){CALLTQL_CONFIG.callType="ajax";if(window.location.href.indexOf("/site/")>0)CALLTQL_CONFIG.callType="tp_ajax";CALLTQL_CONFIG.url=window.location.protocol+"//"+window.location.host+"/"}else if(IsPcPlatform())CALLTQL_CONFIG.callType="external";else if(IsIosPlatform())CALLTQL_CONFIG.callType="ios_external";else if(IsAndPlatform())CALLTQL_CONFIG.callType="and_external"}Auto_Get_Platform();Auto_Set_Req();function CallTQL(c,h,b,f){var a=$.extend(true,{},CALLTQL_CONFIG);f!=undefined&&f!=""&&f!=null&&$.each(f,function(c,b){a[c]=b});var e=Fun_Name(c),d="CWServ.SecuInfo";if(typeof b=="string")d=h;else if(a.hasOwnProperty("reqtype")&&a.reqtype=="cwserv"){d="CWServ."+h;b=FormatParams(b);b="{"+b+',"CilentSpecifiedKey":"'+a.CilentSpecifiedKey+'"}'}else{b=FormatParams(b);b='{"CallName":"'+h+'",'+b+',"CilentSpecifiedKey":"'+a.CilentSpecifiedKey+'"}'}if(a.callType=="ajax")$.ajax({url:a.url+"/tdx/Exec?"+getRnd(),type:a.type,dataType:a.dataType,data:{funcid:d,bodystr:b,timeout:a.timeout},jsonp:"callback",timeout:a.timeout,success:function(a,b){if(b=="success")if(a.indexOf("success|")===0){a=a.substr(8);c(a)}else alert("\u8bf7\u6c42\u53d1\u751f\u9519\u8bef\uff01"+a)},error:function(d,a){a=="timeout"&&c('{"ErrorCode":1, "ErrorInfo":"timeout"}')}});else if(a.callType=="tp_ajax")$.ajax({url:a.url+"TQLEX?Entry="+d,type:a.type,dataType:a.dataType,data:b,jsonp:"callback",timeout:a.timeout,success:function(a){c(a)},error:function(d,a){a=="timeout"&&c('{"ErrorCode":1, "ErrorInfo":"timeout"}')}});else if(a.callType=="external")try{window.external.CallTQL(e,d,b)}catch(i){alert("\u6b64JS\u5e73\u53f0\u4e0d\u652f\u6301window.external.CallTQL\u65b9\u6cd5\u3002\r\n\r\n\u9519\u8bef\u63d0\u793a\uff1a"+i.message)}else if(a.callType=="and_external"){var g=getRnd()+"_"+e;_callFuncDict[g]=c;window.tdx_java.Android_SendData(g,d,"TP",b.length,b,"Get_Android")}else if(a.callType=="ios_external"){var g=getRnd()+"_"+e;_callFuncDict[g]=c;IOS_Bridge.call("Get_Ios",b,d,g,e)}else if(a.callType=="zxdialog")try{window.external.CallTQL_IE(Fun_Name(c),d,b)}catch(i){alert("\u6b64JS\u5e73\u53f0\u4e0d\u652f\u6301window.external.CallTQL_IE\u65b9\u6cd5\u3002\r\n\r\n\u9519\u8bef\u63d0\u793a\uff1a"+i.message)}else alert("\u4e0d\u652f\u6301\u7684JS\u8c03\u7528\u7c7b\u578b\uff1a"+a.callType)}function getRnd(){return parseInt(Math.random()*1e4)+"="+parseInt(Math.random()*1e4)}function getRuntime(){var a=new Date,b="",f=a.getFullYear(),d=a.getMonth()+1,c=a.getDate(),e=a.getHours(),g=a.getMinutes(),h=a.getSeconds();b=f+"-"+d+"-"+c+" "+e+":"+g+":"+h;return b}function Fun_Name(a){var c=a.toString(),d=/function\s*(\w*)/i,b=d.exec(c);return b[1]}function FormatParams(c){var d="";d+='"Params":[';for(var a="",b=0;b<c.length;b++)if(typeof c[b]=="string")a+=',"'+c[b]+'"';else if(typeof c[b]=="number")a+=","+c[b];else{alert("\u975e\u6cd5\u7684\u53c2\u6570\uff01");break}if(a!="")a=a.substr(1);d+=a;d+="]";return d}function FormatResult(f){try{if(IsAndPlatform()||IsIosPlatform())f=f.replace(/\r\n/ig,"<br>");var c=$.parseJSON(f)}catch(i){}var a={};a.ErrorCode=c.ErrorCode;if(a.ErrorCode!=0){a.ErrorInfo=c.ErrorInfo;return a}a.CilentSpecifiedKey=c.CilentSpecifiedKey;a.tables=[];for(var b=0;b<c.ResultSets.length;b++){if(c.ResultSets[b].ColDes[0].Name=="total")if(b-1>=0)a.tables[b-1].total=c.ResultSets[b].Content[0][0];a.tables[b]={};a.tables[b].total="";a.tables[b].rows=[];for(var h=c.ResultSets[b].Content,d=0;d<h.length;d++){a.tables[b].rows[d]={};for(var g=c.ResultSets[b].ColDes,e=0;e<g.length;e++)a.tables[b].rows[d][g[e].Name]=h[d][e]}}return a}var IOS_Bridge={callbacksCount:1,callbacks:{},resultForCallback:function(c,b){try{var a=IOS_Bridge.callbacks[c];if(!a)return;a.apply(null,b)}catch(d){alert(d)}},call:function(e,h,g,f,b){var c=b&&typeof b=="function",d=c?IOS_Bridge.callbacksCount++:0;if(c)IOS_Bridge.callbacks[d]=b;var a=document.createElement("IFRAME");a.setAttribute("src","js-frame:"+e+";;"+d+";;"+f+";;"+g+";;"+h+";;"+b);document.documentElement.appendChild(a);a.parentNode.removeChild(a);a=null}};function Get_Ios(a,f,e,c){if(_callFuncDict.hasOwnProperty(a)){var b=_callFuncDict[a];_callFuncDict[a]=undefined;delete _callFuncDict[a];b(c)}}function Get_Android(a,e,d,c){if(_callFuncDict.hasOwnProperty(a)){var b=_callFuncDict[a];_callFuncDict[a]=undefined;delete _callFuncDict[a];b(c)}}